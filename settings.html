<!DOCTYPE html>
<html lang="en">
<link>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=1070, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/7dd35e3e4c.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="settings.css"></link>
  <title>Diabetes Calculator</title>
  <link rel="icon" type="image/x-icon" href="https://img.icons8.com/external-flaticons-flat-flat-icons/64/null/external-diabetes-fitness-at-home-flaticons-flat-flat-icons.png">
</head>
<body onload="setValues()">
    <button type="button" id="insulinPage" onclick="window.location.href='index.html';"><i class="fa-solid fa-sliders"></i></button>
    <div id="container">
    
      <div class="row">
        <label for="input1" class="timeLabel">00:00 - 05:30</label>
        <input placeholder="Carbs" type="text" class="input" id="dawnCarbRatio" name="input1">
        <input placeholder="Insulin" type="text" class="input" id="dawnInsulinRatio" name="input1">
      </div>
    
      <div class="row">
        <label for="input2" class="timeLabel">05:30 - 11:00</label>
        <input placeholder="Carbs" type="text" class="input" id="sunriseCarbRatio" name="input2">
        <input placeholder="Insulin" type="text" class="input" id="sunriseInsulinRatio" name="input2">
      </div>
    
      <div class="row">
        <label for="input3" class="timeLabel">11:00 - 17:00</label>
        <input placeholder="Carbs" type="text" class="input" id="middayCarbRatio" name="input3">
        <input placeholder="Insulin" type="text" class="input" id="middayInsulinRatio" name="input3">
      </div>
    
      <div class="row">
        <label for="input4" class="timeLabel">17:00 - 21:30</label>
        <input placeholder="Carbs" type="text" class="input" id="sunsetCarbRatio" name="input4">
        <input placeholder="Insulin" type="text" class="input" id="sunsetInsulinRatio" name="input4">
      </div>
    
      <div class="row">
        <label for="input5" class="timeLabel">21:30 - 23:59</label>
        <input placeholder="Carbs" type="text" class="input" id="nightCarbRatio" name="input5">
        <input placeholder="Insulin" type="text" class="input" id="nightInsulinRatio" name="input5">
      </div>
    </div>

    <button type="button" id="submitRatios">Submit</button>
  <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
  <!--<script src="app.js"></script>-->
  <script>
    const submit_button_ratios = document.getElementById('submitRatios');

    submit_button_ratios.addEventListener('click', function() {
        var ratios = {
            dawnCarbRatio: document.getElementById('dawnCarbRatio').value,
            dawnInsulinRatio: document.getElementById('dawnInsulinRatio').value,
            sunriseCarbRatio: document.getElementById('sunriseCarbRatio').value,
            sunriseInsulinRatio: document.getElementById('sunriseInsulinRatio').value,
            middayCarbRatio: document.getElementById('middayCarbRatio').value,
            middayInsulinRatio: document.getElementById('middayInsulinRatio').value,
            sunsetCarbRatio: document.getElementById('sunsetCarbRatio').value,
            sunsetInsulinRatio: document.getElementById('sunsetInsulinRatio').value,
            nightCarbRatio: document.getElementById('nightCarbRatio').value,
            nightInsulinRatio: document.getElementById('nightInsulinRatio').value
        }
        console.log(ratios);
        var myJSONratios = JSON.stringify(ratios);
        localStorage.setItem("myJSONratios", myJSONratios);
    });

    function setValues() {
        var myJSONratios = localStorage.getItem("myJSONratios");
        var ratios = JSON.parse(myJSONratios);
        document.getElementById('dawnCarbRatio').value = ratios.dawnCarbRatio;
        document.getElementById('dawnInsulinRatio').value = ratios.dawnInsulinRatio;
        document.getElementById('sunriseCarbRatio').value = ratios.sunriseCarbRatio;
        document.getElementById('sunriseInsulinRatio').value = ratios.sunriseInsulinRatio;
        document.getElementById('middayCarbRatio').value = ratios.middayCarbRatio;
        document.getElementById('middayInsulinRatio').value = ratios.middayInsulinRatio;
        document.getElementById('sunsetCarbRatio').value = ratios.sunsetCarbRatio;
        document.getElementById('sunsetInsulinRatio').value = ratios.sunsetInsulinRatio;
        document.getElementById('nightCarbRatio').value = ratios.nightCarbRatio;
        document.getElementById('nightInsulinRatio').value = ratios.nightInsulinRatio;
    }
  </script>
</body>
</html>